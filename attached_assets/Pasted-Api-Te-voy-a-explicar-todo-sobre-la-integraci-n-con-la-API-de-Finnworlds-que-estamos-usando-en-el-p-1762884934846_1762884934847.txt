Api

Te voy a explicar todo sobre la integraciÃ³n con la API de Finnworlds que estamos usando en el proyecto. Es una API muy completa para datos macroeconÃ³micos.

ðŸ“‹ InformaciÃ³n General de la API
URL Base
https://api.finnworlds.com/api/v1
AutenticaciÃ³n
API Key: 6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de

ðŸ”— Endpoints Principales
1. Calendario MacroeconÃ³mico
GET /macrocalendar

ParÃ¡metros:

key (required): Tu API key
country (optional): Nombre del paÃ­s en inglÃ©s
date (optional): Fecha en formato YYYY-MM-DD
iso_country_code (optional): CÃ³digo ISO del paÃ­s (us, gb, de, etc.)
Ejemplo CURL:
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrocalendar?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&country=United_States&date=2025-11-11&iso_country_code=us' \
  -H 'accept: application/json'

  2. Lista de PaÃ­ses
  GET /macrolist
  ParÃ¡metros:

key (required): Tu API key
list (required): Tipo de lista, usa "country"
Ejemplo CURL:
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrolist?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&list=country' \
  -H 'accept: application/json'

ðŸ“Š Schemas de Respuesta
Schema del Calendario EconÃ³mico
Read index.ts, lines 1 to 40

Ejemplo de Respuesta del Calendario:
{
  "status": {
    "code": 200,
    "message": "OK",
    "details": ""
  },
  "result": {
    "output": [
      {
        "datetime": "2025-11-11 11:00:00",
        "iso_country_code": "US",
        "country": "United States",
        "report_name": "NFIB Business Optimism Index",
        "report_date": "10",
        "actual": "98.2",
        "previous": "98.8",
        "consensus": "98.3",
        "unit": "points",
        "impact": "3"
      }
    ]
  }
}

Ejemplo de Respuesta de PaÃ­ses:
{
  "status": {
    "code": 200,
    "message": "OK",
    "details": ""
  },
  "result": {
    "pagination": {
      "total_data": "143",
      "total_pages": 1,
      "current_page": 1
    },
    "output": [
      {
        "country": "Afghanistan"
      },
      {
        "country": "Albania"
      }
    ]
  }
}â€¨â€¨ðŸ› Â ImplementaciÃ³n en el Proyecto
ConfiguraciÃ³n Axios
ReadÂ api.ts, lines 1 to 15
FunciÃ³n Principal de Calendario
ReadÂ api.ts, lines 50 to 80
ðŸ“Â Campos de Datos Explicados
CalendarEvent Fields:
â€¨
Campo	Tipo	DescripciÃ³n	Ejemplo
datetime	string	Fecha y hora del evento	"2025-11-11 11:00:00"
iso_country_code	string	CÃ³digo ISO del paÃ­s	"US", "GB", "DE"
country	string	Nombre completo del paÃ­s	"United States"
report_name	string	Nombre del indicador econÃ³mico	"NFIB Business Optimism Index"
report_date	string	PerÃ­odo del reporte	"10" (octubre)
actual	string	Valor real publicado	"98.2"
previous	string	Valor anterior	"98.8"
consensus	string	PronÃ³stico/consenso	"98.3"
unit	string	Unidad de medida	"points", "percent", etc.
impact	string	Nivel de impacto	"1" (bajo), "2" (medio), "3" (alto)
â€¨Niveles de Impacto:
* "1"Â = Impacto Bajo (ðŸŸ¢)
* "2"Â = Impacto Medio (ðŸŸ¡)
* "3"Â = Impacto Alto (ðŸ”´)
ðŸ”„Â Mapeo de Datos en el Proyecto
TransformaciÃ³n de CalendarEvent a EconomicEvent:
ReadÂ api.ts, lines 120 to 140
ðŸ§ªÂ Ejemplos de Uso con CURL
1. Obtener Eventos de Estados Unidos Hoy:
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrocalendar?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&country=United_States&date=2025-11-11&iso_country_code=us' \
  -H 'accept: application/json'
2. Obtener Eventos del Reino Unido:
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrocalendar?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&country=United_Kingdom&date=2025-11-11&iso_country_code=gb' \
  -H 'accept: application/json'
3. Obtener Lista Completa de PaÃ­ses:
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrolist?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&list=country' \
  -H 'accept: application/json'
4. Sin ParÃ¡metros de PaÃ­s (Todos los Eventos):
curl -X 'GET' \
  'https://api.finnworlds.com/api/v1/macrocalendar?key=6b3bb15c9fd258eaa3846948ae3e5ddb9dccf2de&date=2025-11-11' \
  -H 'accept: application/json'â€¨â€¨
ðŸš¨Â Manejo de Errores
CÃ³digos de Estado Comunes:
* 200: Ã‰xito
* 400: ParÃ¡metros incorrectos
* 401: API key invÃ¡lida
* 404: Endpoint no encontrado
* 429: LÃ­mite de tasa excedido
* 500: Error interno del servidor
Ejemplo de Respuesta de Error:
{
  "status": {
    "code": 401,
    "message": "Unauthorized",
    "details": "Invalid API key"
  }
}
â€¨âš¡Â Optimizaciones en el Proyecto
1. Cache de PaÃ­ses:
// Solo cargamos los paÃ­ses configurados, no toda la lista de la API
export async function getCountries() {
  return countryOptions; // Lista predefinida de 8 paÃ­ses
}
â€¨2. Manejo de Fechas:
// Generamos rangos de fechas automÃ¡ticamente
const getTimeFilterRange = (filterId: string) => {
  // Calcula automÃ¡ticamente startDate y endDate
}
3. Fallback de Datos:
// Si la API falla, usamos datos mock
if (events.length === 0) {
  return mockEconomicEvents.filter(/* filtros */);
}
â€¨â€¨ðŸ”§Â Limitaciones y Consideraciones
LÃ­mites de la API:
* âœ… No hay lÃ­mites estrictos documentados
* âœ… API key gratuita funcional
* âœ… Respuesta rÃ¡pida (< 1 segundo)
PaÃ­ses Soportados:
* âœ… 143+ paÃ­ses disponibles
* âœ… Datos histÃ³ricos y futuros
* âœ… MÃºltiples indicadores por paÃ­s
Calidad de Datos:
* âœ… Datos actualizados regularmente
* âœ… Incluye valores actual, previo y consenso
* âœ… Niveles de impacto categorizados
ðŸ“šÂ DocumentaciÃ³n Adicional
La API de Finnworlds es muy estable y completa. En el proyecto hemos implementado:
1. Tipado completoÂ con TypeScript
2. Manejo de erroresÂ robusto
3. Cache inteligenteÂ de paÃ­ses
4. TransformaciÃ³n de datosÂ automÃ¡tica
5. FallbackÂ con datos mock
6. Mapeo de cÃ³digosÂ de paÃ­ses flexible
â€¨